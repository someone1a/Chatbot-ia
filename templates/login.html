<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .hidden { display: none; }
  </style>
</head>
<body class="bg-light d-flex justify-content-center align-items-center" style="height: 100vh;">
  <div class="card shadow p-4" style="width: 400px;">
    <h3 id="form-title" class="text-center mb-4">ğŸ” Iniciar sesiÃ³n</h3>

    {% if error %}
      <div class="alert alert-danger">{{ error }}</div>
    {% endif %}

    <!-- Login -->
    <form id="login-form" method="post" action="/login">
      <input name="username" class="form-control mb-3" placeholder="Usuario" required>
      <input type="password" name="password" class="form-control mb-3" placeholder="ContraseÃ±a" required>
      <button class="btn btn-primary w-100 mb-2">Entrar</button>
      <div class="text-center">
        <a href="#" onclick="toggleForms()" class="text-decoration-none">Â¿No tenÃ©s cuenta? Registrate</a>
      </div>
    </form>

    <!-- Registro -->
    <form id="register-form" method="post" action="/register" class="hidden">
      <input name="username" class="form-control mb-3" placeholder="Nuevo usuario" required>
      <input type="password" name="password" class="form-control mb-3" placeholder="Nueva contraseÃ±a" required>
      <button class="btn btn-outline-secondary w-100 mb-2">Registrarse</button>
      <div class="text-center">
        <a href="#" onclick="toggleForms()" class="text-decoration-none">Â¿Ya tenÃ©s cuenta? Iniciar sesiÃ³n</a>
      </div>
    </form>
  </div>

  <script>
    function toggleForms() {
      const loginForm = document.getElementById('login-form');
      const registerForm = document.getElementById('register-form');
      const title = document.getElementById('form-title');

      if (loginForm.classList.contains('hidden')) {
        loginForm.classList.remove('hidden');
        registerForm.classList.add('hidden');
        title.textContent = 'ğŸ” Iniciar sesiÃ³n';
      } else {
        loginForm.classList.add('hidden');
        registerForm.classList.remove('hidden');
        title.textContent = 'ğŸ“ Registrarse';
      }
    }
  </script>
</body>
</html>
